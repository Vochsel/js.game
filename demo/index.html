<!DOCTYPE html>
<html>
	<head>
		<title>js.game</title>

		<link rel="stylesheet" type="text/css" href="styles.css">

		<script type="text/javascript" src="../src/game.js"></script>
		<script type="text/javascript" src="../src/time.js"></script>
		<script type="text/javascript" src="../src/draw.js"></script>
		<script type="text/javascript" src="../src/input.js"></script>
		<script type="text/javascript" src="../src/state.js"></script>
		<script type="text/javascript" src="../src/math.js"></script>
		<script type="text/javascript" src="../src/physics.js"></script>

	</head>
	<body>

		<h1>js.game</h1>
		<p><i>Ben Skinner</i></p>

		<canvas id="game" width="720" height="480"></canvas>

		<script type="text/javascript">
			var pos;

			var rect1 = new js.physics.rect(new js.vec2(100, 100), 100, 100);
			var rect2 = new js.physics.rect(new js.vec2(300, 100), 100, 100);

			var circle1 = new js.physics.circle(new js.vec2(100, 100), 50);
			var circle2 = new js.physics.circle(new js.vec2(300, 100), 75);


			function menu_render()
			{
				js.draw.rect(100, 100, 100, 100, 0, "black");
			}

			function game_setup()
			{
				pos = new js.vec2(js.game.hw, js.game.hh);
			}

			function game_update()
			{
				if(js.input.keyboard.isKeyDown('a')){
					pos.x -= 4;
				}
				if(js.input.keyboard.isKeyDown('d')){
					pos.x += 4;
				}

				circle2.pos = js.input.mouse.pos;

				circle1.collision(circle2);
			}

			function game_render()
			{
				//js.draw.rect(pos.x, pos.y, 150, 150, js.time.current, "lightblue");

				circle1.draw();
				circle2.draw();
			}

			var state_menu = new js.game.state(game_setup, game_update, menu_render);
			var state_game = new js.game.state(game_setup, game_update, game_render);

			var g = new js.game([state_menu, state_game], "game");
			g.changeState(1);
			
		</script>
	</body>
</html>